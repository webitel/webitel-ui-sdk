# Як оцінювати задачі?

## TL;DR

1. Перевірити вхідні дані задачі та заестімейтити естімейт.
2. Детально розпланувати реалізацію задачі.
3. Розбити задачу на підзадачі.
4. Оцінити складність кожної з підзадач.
7. Ревʼю естімейта з _@ye.pohranichna_

## Вступ

Оцінка будь-якої задачі має проходити певний набір етапів:

- До-планувальний етап
- Планувальний етап
- Етап переведення плану у час
- Ревʼю естімейта
- Перенесення естімейту в Jira

## До-планувальний етап

**Перед тим як приступити до задачі, треба пройти чекліст по її вхідних даних.**

Чек-ліст:
- Чи є апі? (поверхнева оцінка)
- Чи є макет? (поверхнева оцінка)
- Чи є дока? з описом задачі? (поверхнева оцінка)
- Чи є специфічні вхідні дані — якщо вони потрібні? (репродакшен степс, середовище, етс)

**Якщо вхідні дані неповні, повідомляється зацікавлена особа і відповідальний менеджер, і таска закругляється назад.**

На цьому етапі оцінки проводяться поверхнево, тобто,
ми не сидимо і не прикидуємо які апі чи макети нам треба,
а просто спираємось на слова ПМа, що "все готово".

Така оцінка має бути швидкою, щоб, якщо чогось очевидно не вистачає — одразу закруглити її,
а не щоб зацікавлена особа чекала доки таска почне виконуватись —
а таска заблочиться на першому ж кроці.

**Важливий момент: В таску по фічє має бути прикріплено посилання на доку та макет, а також посилання на свагєр,
якщо для фічі потрібна зміна бека.**

Також, якщо є запит від менеджера, то на саме на цьому етапі варто заестімейтити сам естімейт.

## Планувальний етап

Починаємо з того, що переводимо задачу в статус "Investigation".
Для зручності можна створити на себе ж таску в джирі з назвою "Естімейт задачі (назва задачі)" і в неї трекати час, витрачений на естімейт.

На цьому етапі ми розбиваємо задачу на підзадачі, і оцінюємо їх.

>Важливий момент: підзадачі мають бути такими, як ми їх виконуємо, а не такими, як були поділені юзер-сторі в доці до таски.
Чому? Тому що може бути ситуація, коли юзер-сторі поділені не так, як ми їх виконуємо.

### Як планувати задачу

**Щоб розділити роботу на частини, нам спершу потрібно максимально детально зрозуміти, як ми будемо <ins>реалізовувати</ins> задачу.**

Ми залазимо в код і дивимось: 
- чи потрібно дописувати апі на нашому боці, 
- чи потрібен стор, 
- який саме стор (є декілька його реалізацій в проекті), 
- які компоненти ми будемо використовувати з наявних, а які треба дописати, 
- чи потрібно робити рефакторинг якоїсь частини перед імплементацією нового коду, 
- чи потрібні зміни до ui-sdk,
- інші нюанси реалізації...

Тобто розбираємо для себе, як реалізовувати кожну з частин функціоналу.

>**Читачі питають: А нащо нам прописувати реалізацію під час естімейту, щоб потім те ж саме робити на етапі реалізації?**  
_Відповідь:_ максимально детальне планування по-суті "переносить" частину роботи з етапу реалізації на етап естімейту.
Так, це розтягує естімейт по часу. Але це допомагає зробити естімейт сильно точнішим і суттєво зменшити ризики. 
Бо саме тут вилізуть неочікувані деталі реалізації або упущені потреби фронта, а не тоді, коли вже написано більшість коду. 
Те, що естімейт може зайняти багато часу - узгоджено з менеджментом.

Немає різниці в якому саме форматі ви зображатимете для себе план реалізації. Хтось робить це в гугл доці або в ексельці, 
хтось вручну на папірцях в клітинку.  
Важливо, щоб вам було зручно і зрозуміло, які блоки робіт входять в задачу.  
_(Про кінцеве оформлення естімейту описано в розділі "Ревью естімейта")_

### Оцінка вхідних даних

Також, в цей етап входить більш повна оцінка вхідних даних задачі. Адже при плануванні ми
намагаємось уявити, як саме реалізувати і вирішити ту чи іншу проблему або едж кейс, і, відповідно,
нам має стати видно, чого не вистачає насправді.

**Якщо на цьому етапі виявляється, що чогось не вистачає - обов'язково інформуємо менеджера, і задача закругляється знов.**

### Розбиття задачі на підзадачі + нюанси

Коли план реалізації зрозумілий, ми ділимо задачу на підзадачі.   
В ідеалі, кожна підзадача має бути такою, що її можна зробити не більше ніж за 1 день.
Якщо підзадача займає більше – ми розбиваємо її на менші.

[//]: # (Але, може скластися ситуація, коли якась задача на стільки непередбачувана, що ми не можемо її оцінити,)

[//]: # (або оцінка є дуже розпливчастою &#40;наприклад, від пів дня до тижня&#41;. Нажаль, на такі задачі ради немає,)

[//]: # (і, тоді, їх можна лишити "як є", при цьому, письмово обґрунтувавши цю невизначеність.)

Також, може скластися ситуація, коли ви просто не знаєте, як робити якусь підзадачу (наприклад, задача потребує залучення сторонньої ліби).  
В такому випадку, треба час на "покрутити" цю задачу, спробувати щось зробити. Це треба оформити сабтаскою-естімейтом,
і приблизно естімейтнути вже її - час, який вам треба на те, щоб спробувати покрутити її.  
**Також, в такому випадку, необхідно письмово проінформувати про це відповідального менеджера.**

 Кінцевим результатом планувального етапу має бути список підзадач, а також уявлення, як їх реалізовувати. 


### Чек-ліст питань, які допоможуть спланувати задачу:

- які апішки потрібні (на беці) чи вони є?
- розібратись в нюансах апішек, якщо вони є
- розбити роботу предметно на те, що саме треба робити: які блоки верстати, які компоненти створювати, які компоненти з потрібних є в нашій лібє (ВАЖЛИВО: опираючись на макет)
- чи потрібно буде щось рефакторити?
- чи треба писати апішки (на боці клієнта, мається на увазі) ?
- чи треба дописувати стор ?
- чи треба робити щось сильно нове? (консультація з тим, хто шарить або закласти додатковий час на новизну)
- чи треба залучати сторонні бібліотеки?
- чи треба писати документацію?
- закласти час на тести

## Етап переведення плану у складність (використовувати за потреби)

**На цьому етапі кожна з підзадач оцінюється по 5-бальній шкалі складності:**

- 1 — дуже просто
- 2 — просто
- 3 — середньо
- 4 — складно
- 5 — дуже складно

_Чому не сторі-поінти? — щоб на перший час спростити користування гайдлайном і процес естімейту. якщо виявиться, що ця
система якимось чином не підходить, то тоді вертатися до сторі поінтів, і всякої такої штуки._

Важливий момент: ми оцінюємо не час виконання, а саме складність. Я думаю (можливо, думка має бути скоригована),
уявлення про складність має бути +- однаковим для всіх. При цьому, складність переходить в час, але
час буде у всіх різним. І це повністю окей.

## Етап переведення складності у час

Тут все просто - беремо і переводимо. Намагаємось з кожним наступним разом наблизитись до реалістичної оцінки,
але завжди памʼятаємо, що краще переоцінити, ніж недооцінити.

Також на цьому етапі варто закладати час на ревью кожної підзадачі. 
Нагадаю: 

## Ревʼю естімейта

Коли ви продумали реалізацію і розбили задачу на підтаски, то залишилось передати це на ревью.

Залучаємо Лізу (_@ye.pohranichna_) для цього 🙂   
В коментах до таски, яку оцінювали, залишаємо естімейт з відміткою Лізи.

**_Формат оформлення естімейту приблизно такий:_**  
>Загальний естімейт: 2d 2h
>1. Назва підзадачі 1 (8h)
>    - крок 1
>    - крок 2
>    - крок 3
>2. Назва підзадачі 2 (3h)
>3. Назва підзадачі 3 (3h)
>4. Назва підзадачі 4 (4h)
>    - крок 1
>    - крок 2  

#### Важливо: 1 підзадача = 1 таска в джирі = 1 ПР


Нагадую, кожна підзадача має бути такою, що її можна зробити не більше ніж за 1 день.

Для чого кожна пізадача має займати всього лише 1 день?
   1. щоб мати більш точний естімейт,
   2. щоб було легше відслідковувати прогрес по тасках в джирі,
   3. щоб було зручно вести обговорення в коментах, якщо це знадобиться,
   4. <ins>Найголовніше: щоб легше та швидше було ревьюіти ПРи, бо невелика піздача = невеликий ПР.</ins>


Кінцевим результатом етапу ревью має бути апрувнутий естімейт та проінформований про це ПМ.

## Перенесення естімейту в Jira
Лише після апруву естімейту, він переноситься в джиру.

Тут можливо декілька нюансів через поточні налаштування джири, а також поточні домовленості.  

- Якщо є можливість, то ми створюємо сабтаски до тієї таски, яку оцінювали.
- Якщо немає (таке буває, коли таска фічі вже і так є сабтаскою), то ми комунікуємо про це і відштовхуємось від домовленостей з менеджером.

Назви сабтасок мають бути конкретними, щоб по ним було зрозуміло, який блок робіт в межах сабтаски проводиться.

Коли сабтаски створені, то далі ми проставляємо свої естімейти в графу "original estimate": в основну таску, а також в кожну підтаску.   
**Це дуже важливий етап! Його не можна пропускати!**  
Адже саме завдяки цьому менеджери зможуть відстежувати прогрес по задачі.

Кінцевим результатом цього етапу є новостворені таски в джирі та проставлений в них естімейт. 

### Як здійснювати роботу по тасці

Базова механіка великих фіч: 
1. Створюється окрема гілка для всієї фічі - по-суті гілка основної таски.   
2. Від неї "відколюються" гілки для сабатсок, які після ревью в неї ж і мерджаться. 
3. Після змерджування сабтаски, вона закривається з коментом "Робота по підтасці завершена. Тестування буде проходити в межах основної таски"
4. На тест передається лише основна таска.


## Кінцеві артефакти

- План задачі, описаний у таску.
- Дуже бажано, щоб таска була розбита на підтаски (як правило, має бути завжди, але можуть бути виключення).
- Проставлений реальний (з закладеними ризиками) часовий естімейт у кожну з тасок.

## Чек-лісти

### Чек-ліст перед плануванням задачі

- Чи є апі? (поверхнева оцінка)
- Чи є макет? (поверхнева оцінка)
- Чи є специфічні вхідні дані — якщо вони потрібні? (репродакшен степс, середовище, етс)

### Чек-ліст питань, які допоможуть спланувати задачу

- які апішки потрібні (на беці) чи вони є?
- розібратись в нюансах апішек, якщо вони є
- розбити роботу предметно на те, що саме треба робити: які блоки верстати, які компоненти створювати, які компоненти з потрібних є в нашій лібє (ВАЖЛИВО: опираючись на макет)
- чи треба писати апішки (на боці клієнта, мається на увазі) ?
- чи треба дописувати стор ?
- чи треба робити щось нове? (закласти додатковий час на новизну, час на розібратись)
- чи треба писати документацію?
- закласти час на тести
  
## Розумні думки, які не понятно куди запхати

- **Прострочений естімейт - це не трагедія.**  
Якщо під час реалізації виявилось, що задача зайняла більше часу - так буває. 
Важливо в процесі виконання тримати менеджера в курсі цього, а також побачити, який досвід можна взяти, якщо естімейт вийшов неточним.
- **Якщо виконання задачі в 2-3 рази швидше проставленого естімейту - це також ознака неточного естімейту. І варто розглянути, чому так відбулось.**  
З точки зору менеджмента такі речі також заважають плануванню реліза. Хоча, звісно, це значно приємніша ситуація, ніж коли задача прострочена.
- **Строння ліба - це біла пляма естімейту.**  
Майже неможливо передбачити, до яких проблем може призвести її використання.
Тому важливо попередити менеджера про це, а також тримати його в курсі просування по тасці.
- **Час на ревью бажано додавати в кожну підзадачу, а не створювати на це окрему.**   
Адже кожна підтаска матиме свій ПР, а отже окремо проходитиме ревью.
